function getLocalVolumeSettings(){null===localStorage.getItem("volume")?(localStorage.setItem("volume",50),console.log($("#volume-range").val()/100)):$("#volume-range").val(localStorage.getItem("volume")),changeVolume(localStorage.getItem("volume")/100)}function changeVolume(e){redNote.volume=e,yellowNote.volume=e,greenNote.volume=e,blueNote.volume=e,console.log(blueNote.volume)}function openSettingsIfFirstView(){null===localStorage.getItem("seenSettings")&&(document.querySelector("#settings").showModal(),localStorage.setItem("seenSettings",!0))}function redPieceUiChange(){redPiece.addClass("active-red-piece"),setTimeout(function(){redPiece.removeClass("active-red-piece")},btnFlashTiming),redNote.load(),redNote.play()}function yellowPieceUiChange(){yellowPiece.addClass("active-yellow-piece"),setTimeout(function(){yellowPiece.removeClass("active-yellow-piece")},btnFlashTiming),yellowNote.load(),yellowNote.play()}function greenPieceUiChange(){greenPiece.addClass("active-green-piece"),setTimeout(function(){greenPiece.removeClass("active-green-piece")},btnFlashTiming),greenNote.load(),greenNote.play()}function bluePieceUiChange(){bluePiece.addClass("active-blue-piece"),setTimeout(function(){bluePiece.removeClass("active-blue-piece")},btnFlashTiming),blueNote.load(),blueNote.play()}function turnOnClickListener(){redPiece.on("click",function(){redPieceUiChange(),selectPiece("游댮")}),yellowPiece.on("click",function(){yellowPieceUiChange(),selectPiece("游리")}),greenPiece.on("click",function(){greenPieceUiChange(),selectPiece("游릭")}),bluePiece.on("click",function(){bluePieceUiChange(),selectPiece("游댯")})}function randBetweenFour(){return Math.floor(4*Math.random())}function playSequence(){showMiddlePiece($("#loading")),$(".piece").off("click"),setTimeout(()=>{turnOnClickListener(),showMiddlePiece($("#score"))},500*sequence.length+750);for(let e=0;e<sequence.length;e++)setTimeout(function(){switch(sequence[e]){case"游댮":redPieceUiChange();break;case"游리":yellowPieceUiChange();break;case"游릭":greenPieceUiChange();break;case"游댯":bluePieceUiChange()}},500*e+750)}function selectPiece(e){playerInput.push(e),console.log("Player chose: "+playerInput[playerInput.length-1]),isPlayerInputCorrect()?(console.log("correct piece"),isPlayerTurnOver()&&(score++,$("#score-number").text(score),console.log("Next turn."),playGame())):(console.log("wrong piece"),gameOver())}function isPlayerInputCorrect(){return playerInput[playerInput.length-1]===sequence[playerInput.length-1]}function isPlayerTurnOver(){return sequence.length===playerInput.length}function copy(){navigator.clipboard.writeText(`Can you beat my score of ${score} on simon!? https://jt-stevens.github.io/Simon/`);var e=$("#copied-message");e.addClass("show"),setTimeout(function(){e.removeClass("show")},3e3)}async function shareScore(){const e={title:"Simon",text:`Can you beat my score of ${score} on simon!?`,url:"https://jt-stevens.github.io/Simon/"};try{await navigator.share(e),console.log("score shared successfully")}catch(e){console.log(`Error: ${e}`)}}function showMiddlePiece(e){$("#play").attr("hidden",!e.is($("#play"))),$("#loading").attr("hidden",!e.is($("#loading"))),$("#score").attr("hidden",!e.is($("#score")))}function addOneToSequence(){sequence.push(SEQUENCE_OPTIONS[randBetweenFour()])}function gameOver(){console.log("Game over!"),saveScore(),$("#game-over-score").text(score),document.querySelector("#game-over").showModal()}function saveScore(){let e=[];null===localStorage.getItem("highScores")?(localStorage.setItem("highScores",JSON.stringify([score])),e.push(score)):(e=JSON.parse(localStorage.getItem("highScores")),e.push(score),e.sort(function(e,o){return o-e}),localStorage.removeItem("highScores"),localStorage.setItem("highScores",JSON.stringify(e))),displayHighScores(e)}function displayHighScores(e){let o=$(".hs-number");for(let t=0;t<o.length;t++)o[t].textContent=e[t]}function reset(){score=0,sequence=[],playerInput=[],$("#score-number").text("0"),$("#game-over-score").text("0"),showMiddlePiece($("#play")),document.querySelector("#game-over").close()}function playGame(){turnOnClickListener(),addOneToSequence(),playSequence(),playerInput=[]}var redPiece=$(".red-piece"),yellowPiece=$(".yellow-piece"),greenPiece=$(".green-piece"),bluePiece=$(".blue-piece"),redNote=new Audio("./Audio/C5_ff.flac"),yellowNote=new Audio("./Audio/G5_pp.flac"),greenNote=new Audio("./Audio/G4_pp.flac"),blueNote=new Audio("./Audio/C4_pp.flac"),btnFlashTiming=250;const SEQUENCE_OPTIONS=["游댮","游리","游릭","游댯"];let sequence=[],playerInput=[],score=0;getLocalVolumeSettings(),openSettingsIfFirstView(),$("#volume-range").on("input",function(){var e=this.value;changeVolume(e/100),localStorage.setItem("volume",e)}),$("#open-settings").on("click",function(){document.querySelector("#settings").showModal()}),$("#settings-close").on("click",function(){document.querySelector("#settings").close()}),$("#game-over-close").on("click",reset),$("#play-again").on("click",reset),$("#copy").on("click",copy),$("#share").on("click",shareScore),$("#play-button").on("click",playGame);